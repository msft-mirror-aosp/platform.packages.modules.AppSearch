// Signature format: 2.0
package android.app.appsearch {

  public final class AppSearchBatchResult<KeyType, ValueType> {
    method @NonNull public java.util.Map<KeyType,android.app.appsearch.AppSearchResult<ValueType>> getAll();
    method @NonNull public java.util.Map<KeyType,android.app.appsearch.AppSearchResult<ValueType>> getFailures();
    method @NonNull public java.util.Map<KeyType,ValueType> getSuccesses();
    method public boolean isSuccess();
  }

  public static final class AppSearchBatchResult.Builder<KeyType, ValueType> {
    ctor public AppSearchBatchResult.Builder();
    ctor @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") public AppSearchBatchResult.Builder(@NonNull android.app.appsearch.AppSearchBatchResult<KeyType,ValueType>);
    method @NonNull public android.app.appsearch.AppSearchBatchResult<KeyType,ValueType> build();
    method @NonNull public android.app.appsearch.AppSearchBatchResult.Builder<KeyType,ValueType> setFailure(@NonNull KeyType, int, @Nullable String);
    method @NonNull public android.app.appsearch.AppSearchBatchResult.Builder<KeyType,ValueType> setResult(@NonNull KeyType, @NonNull android.app.appsearch.AppSearchResult<ValueType>);
    method @NonNull public android.app.appsearch.AppSearchBatchResult.Builder<KeyType,ValueType> setSuccess(@NonNull KeyType, @Nullable ValueType);
  }

  @FlaggedApi("com.android.appsearch.flags.enable_blob_store") public final class AppSearchBlobHandle implements android.os.Parcelable {
    method @NonNull public static android.app.appsearch.AppSearchBlobHandle createWithSha256(@NonNull byte[], @NonNull String, @NonNull String, @NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public String getDatabaseName();
    method @NonNull public String getNamespace();
    method @NonNull public String getPackageName();
    method @NonNull public byte[] getSha256Digest();
    method public void writeToParcel(@NonNull android.os.Parcel, int);
    field @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.AppSearchBlobHandle> CREATOR;
  }

  @FlaggedApi("com.android.appsearch.flags.enable_blob_store") public final class AppSearchCommitBlobResponse implements android.os.Parcelable {
    ctor public AppSearchCommitBlobResponse(@NonNull android.app.appsearch.AppSearchBatchResult<android.app.appsearch.AppSearchBlobHandle,java.lang.Void>);
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public android.app.appsearch.AppSearchBatchResult<android.app.appsearch.AppSearchBlobHandle,java.lang.Void> getResult();
    method public void writeToParcel(@NonNull android.os.Parcel, int);
    field @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.AppSearchCommitBlobResponse> CREATOR;
  }

  public class AppSearchManager {
    method @FlaggedApi("com.android.appsearch.flags.enable_enterprise_global_search_session") public void createEnterpriseGlobalSearchSession(@NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<android.app.appsearch.EnterpriseGlobalSearchSession>>);
    method public void createGlobalSearchSession(@NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<android.app.appsearch.GlobalSearchSession>>);
    method public void createSearchSession(@NonNull android.app.appsearch.AppSearchManager.SearchContext, @NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<android.app.appsearch.AppSearchSession>>);
    method @FlaggedApi("com.android.appsearch.flags.enable_app_functions") @NonNull public android.app.appsearch.functions.AppFunctionManager getAppFunctionManager();
  }

  public static final class AppSearchManager.SearchContext {
    method @NonNull public String getDatabaseName();
  }

  public static final class AppSearchManager.SearchContext.Builder {
    ctor public AppSearchManager.SearchContext.Builder(@NonNull String);
    method @NonNull public android.app.appsearch.AppSearchManager.SearchContext build();
  }

  @FlaggedApi("com.android.appsearch.flags.enable_blob_store") public final class AppSearchOpenBlobForReadResponse implements java.io.Closeable android.os.Parcelable {
    ctor public AppSearchOpenBlobForReadResponse(@NonNull android.app.appsearch.AppSearchBatchResult<android.app.appsearch.AppSearchBlobHandle,android.os.ParcelFileDescriptor>);
    method public void close();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public android.app.appsearch.AppSearchBatchResult<android.app.appsearch.AppSearchBlobHandle,android.os.ParcelFileDescriptor> getResult();
    method public void writeToParcel(@NonNull android.os.Parcel, int);
    field @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.AppSearchOpenBlobForReadResponse> CREATOR;
  }

  @FlaggedApi("com.android.appsearch.flags.enable_blob_store") public final class AppSearchOpenBlobForWriteResponse implements java.io.Closeable android.os.Parcelable {
    ctor public AppSearchOpenBlobForWriteResponse(@NonNull android.app.appsearch.AppSearchBatchResult<android.app.appsearch.AppSearchBlobHandle,android.os.ParcelFileDescriptor>);
    method public void close();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public android.app.appsearch.AppSearchBatchResult<android.app.appsearch.AppSearchBlobHandle,android.os.ParcelFileDescriptor> getResult();
    method public void writeToParcel(@NonNull android.os.Parcel, int);
    field @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.AppSearchOpenBlobForWriteResponse> CREATOR;
  }

  public final class AppSearchResult<ValueType> {
    method @Nullable public String getErrorMessage();
    method public int getResultCode();
    method @Nullable public ValueType getResultValue();
    method public boolean isSuccess();
    method @NonNull public static <ValueType> android.app.appsearch.AppSearchResult<ValueType> newFailedResult(int, @Nullable String);
    method @NonNull public static <ValueType> android.app.appsearch.AppSearchResult<ValueType> newSuccessfulResult(@Nullable ValueType);
    field @FlaggedApi("com.android.appsearch.flags.enable_result_already_exists") public static final int RESULT_ALREADY_EXISTS = 12; // 0xc
    field @FlaggedApi("com.android.appsearch.flags.enable_result_denied_and_result_rate_limited") public static final int RESULT_DENIED = 9; // 0x9
    field public static final int RESULT_INTERNAL_ERROR = 2; // 0x2
    field public static final int RESULT_INVALID_ARGUMENT = 3; // 0x3
    field public static final int RESULT_INVALID_SCHEMA = 7; // 0x7
    field public static final int RESULT_IO_ERROR = 4; // 0x4
    field public static final int RESULT_NOT_FOUND = 6; // 0x6
    field public static final int RESULT_OK = 0; // 0x0
    field public static final int RESULT_OUT_OF_SPACE = 5; // 0x5
    field @FlaggedApi("com.android.appsearch.flags.enable_result_denied_and_result_rate_limited") public static final int RESULT_RATE_LIMITED = 10; // 0xa
    field public static final int RESULT_SECURITY_ERROR = 8; // 0x8
    field @FlaggedApi("com.android.appsearch.flags.enable_app_functions") public static final int RESULT_TIMED_OUT = 11; // 0xb
    field public static final int RESULT_UNKNOWN_ERROR = 1; // 0x1
  }

  public final class AppSearchSchema implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @FlaggedApi("com.android.appsearch.flags.enable_app_functions") @NonNull public String getDescription();
    method @FlaggedApi("com.android.appsearch.flags.enable_get_parent_types_and_indexable_nested_properties") @NonNull public java.util.List<java.lang.String> getParentTypes();
    method @NonNull public java.util.List<android.app.appsearch.AppSearchSchema.PropertyConfig> getProperties();
    method @NonNull public String getSchemaType();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.AppSearchSchema> CREATOR;
  }

  public static final class AppSearchSchema.BooleanPropertyConfig extends android.app.appsearch.AppSearchSchema.PropertyConfig {
    method @FlaggedApi("com.android.appsearch.flags.enable_scorable_property") public boolean isScoringEnabled();
  }

  public static final class AppSearchSchema.BooleanPropertyConfig.Builder {
    ctor public AppSearchSchema.BooleanPropertyConfig.Builder(@NonNull String);
    method @NonNull public android.app.appsearch.AppSearchSchema.BooleanPropertyConfig build();
    method @NonNull public android.app.appsearch.AppSearchSchema.BooleanPropertyConfig.Builder setCardinality(int);
    method @FlaggedApi("com.android.appsearch.flags.enable_app_functions") @NonNull public android.app.appsearch.AppSearchSchema.BooleanPropertyConfig.Builder setDescription(@NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_scorable_property") @NonNull public android.app.appsearch.AppSearchSchema.BooleanPropertyConfig.Builder setScoringEnabled(boolean);
  }

  public static final class AppSearchSchema.Builder {
    ctor public AppSearchSchema.Builder(@NonNull String);
    ctor @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") public AppSearchSchema.Builder(@NonNull android.app.appsearch.AppSearchSchema);
    method @NonNull public android.app.appsearch.AppSearchSchema.Builder addParentType(@NonNull String);
    method @NonNull public android.app.appsearch.AppSearchSchema.Builder addProperty(@NonNull android.app.appsearch.AppSearchSchema.PropertyConfig);
    method @NonNull public android.app.appsearch.AppSearchSchema build();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.AppSearchSchema.Builder clearParentTypes();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.AppSearchSchema.Builder clearProperties();
    method @FlaggedApi("com.android.appsearch.flags.enable_app_functions") @NonNull public android.app.appsearch.AppSearchSchema.Builder setDescription(@NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.AppSearchSchema.Builder setSchemaType(@NonNull String);
  }

  public static final class AppSearchSchema.BytesPropertyConfig extends android.app.appsearch.AppSearchSchema.PropertyConfig {
  }

  public static final class AppSearchSchema.BytesPropertyConfig.Builder {
    ctor public AppSearchSchema.BytesPropertyConfig.Builder(@NonNull String);
    method @NonNull public android.app.appsearch.AppSearchSchema.BytesPropertyConfig build();
    method @NonNull public android.app.appsearch.AppSearchSchema.BytesPropertyConfig.Builder setCardinality(int);
    method @FlaggedApi("com.android.appsearch.flags.enable_app_functions") @NonNull public android.app.appsearch.AppSearchSchema.BytesPropertyConfig.Builder setDescription(@NonNull String);
  }

  public static final class AppSearchSchema.DocumentPropertyConfig extends android.app.appsearch.AppSearchSchema.PropertyConfig {
    method @FlaggedApi("com.android.appsearch.flags.enable_get_parent_types_and_indexable_nested_properties") @NonNull public java.util.List<java.lang.String> getIndexableNestedProperties();
    method @NonNull public String getSchemaType();
    method public boolean shouldIndexNestedProperties();
  }

  public static final class AppSearchSchema.DocumentPropertyConfig.Builder {
    ctor public AppSearchSchema.DocumentPropertyConfig.Builder(@NonNull String, @NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_get_parent_types_and_indexable_nested_properties") @NonNull public android.app.appsearch.AppSearchSchema.DocumentPropertyConfig.Builder addIndexableNestedProperties(@NonNull java.lang.String...);
    method @NonNull public android.app.appsearch.AppSearchSchema.DocumentPropertyConfig.Builder addIndexableNestedProperties(@NonNull java.util.Collection<java.lang.String>);
    method @FlaggedApi("com.android.appsearch.flags.enable_get_parent_types_and_indexable_nested_properties") @NonNull public android.app.appsearch.AppSearchSchema.DocumentPropertyConfig.Builder addIndexableNestedPropertyPaths(@NonNull android.app.appsearch.PropertyPath...);
    method @FlaggedApi("com.android.appsearch.flags.enable_get_parent_types_and_indexable_nested_properties") @NonNull public android.app.appsearch.AppSearchSchema.DocumentPropertyConfig.Builder addIndexableNestedPropertyPaths(@NonNull java.util.Collection<android.app.appsearch.PropertyPath>);
    method @NonNull public android.app.appsearch.AppSearchSchema.DocumentPropertyConfig build();
    method @NonNull public android.app.appsearch.AppSearchSchema.DocumentPropertyConfig.Builder setCardinality(int);
    method @FlaggedApi("com.android.appsearch.flags.enable_app_functions") @NonNull public android.app.appsearch.AppSearchSchema.DocumentPropertyConfig.Builder setDescription(@NonNull String);
    method @NonNull public android.app.appsearch.AppSearchSchema.DocumentPropertyConfig.Builder setShouldIndexNestedProperties(boolean);
  }

  public static final class AppSearchSchema.DoublePropertyConfig extends android.app.appsearch.AppSearchSchema.PropertyConfig {
    method @FlaggedApi("com.android.appsearch.flags.enable_scorable_property") public boolean isScoringEnabled();
  }

  public static final class AppSearchSchema.DoublePropertyConfig.Builder {
    ctor public AppSearchSchema.DoublePropertyConfig.Builder(@NonNull String);
    method @NonNull public android.app.appsearch.AppSearchSchema.DoublePropertyConfig build();
    method @NonNull public android.app.appsearch.AppSearchSchema.DoublePropertyConfig.Builder setCardinality(int);
    method @FlaggedApi("com.android.appsearch.flags.enable_app_functions") @NonNull public android.app.appsearch.AppSearchSchema.DoublePropertyConfig.Builder setDescription(@NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_scorable_property") @NonNull public android.app.appsearch.AppSearchSchema.DoublePropertyConfig.Builder setScoringEnabled(boolean);
  }

  @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") public static final class AppSearchSchema.EmbeddingPropertyConfig extends android.app.appsearch.AppSearchSchema.PropertyConfig {
    method public int getIndexingType();
    method @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_quantization") public int getQuantizationType();
    field public static final int INDEXING_TYPE_NONE = 0; // 0x0
    field public static final int INDEXING_TYPE_SIMILARITY = 1; // 0x1
    field public static final int QUANTIZATION_TYPE_8_BIT = 1; // 0x1
    field public static final int QUANTIZATION_TYPE_NONE = 0; // 0x0
  }

  @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") public static final class AppSearchSchema.EmbeddingPropertyConfig.Builder {
    ctor public AppSearchSchema.EmbeddingPropertyConfig.Builder(@NonNull String);
    method @NonNull public android.app.appsearch.AppSearchSchema.EmbeddingPropertyConfig build();
    method @NonNull public android.app.appsearch.AppSearchSchema.EmbeddingPropertyConfig.Builder setCardinality(int);
    method @FlaggedApi("com.android.appsearch.flags.enable_app_functions") @NonNull public android.app.appsearch.AppSearchSchema.EmbeddingPropertyConfig.Builder setDescription(@NonNull String);
    method @NonNull public android.app.appsearch.AppSearchSchema.EmbeddingPropertyConfig.Builder setIndexingType(int);
    method @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_quantization") @NonNull public android.app.appsearch.AppSearchSchema.EmbeddingPropertyConfig.Builder setQuantizationType(int);
  }

  public static final class AppSearchSchema.LongPropertyConfig extends android.app.appsearch.AppSearchSchema.PropertyConfig {
    method public int getIndexingType();
    method @FlaggedApi("com.android.appsearch.flags.enable_scorable_property") public boolean isScoringEnabled();
    field public static final int INDEXING_TYPE_NONE = 0; // 0x0
    field public static final int INDEXING_TYPE_RANGE = 1; // 0x1
  }

  public static final class AppSearchSchema.LongPropertyConfig.Builder {
    ctor public AppSearchSchema.LongPropertyConfig.Builder(@NonNull String);
    method @NonNull public android.app.appsearch.AppSearchSchema.LongPropertyConfig build();
    method @NonNull public android.app.appsearch.AppSearchSchema.LongPropertyConfig.Builder setCardinality(int);
    method @FlaggedApi("com.android.appsearch.flags.enable_app_functions") @NonNull public android.app.appsearch.AppSearchSchema.LongPropertyConfig.Builder setDescription(@NonNull String);
    method @NonNull public android.app.appsearch.AppSearchSchema.LongPropertyConfig.Builder setIndexingType(int);
    method @FlaggedApi("com.android.appsearch.flags.enable_scorable_property") @NonNull public android.app.appsearch.AppSearchSchema.LongPropertyConfig.Builder setScoringEnabled(boolean);
  }

  public abstract static class AppSearchSchema.PropertyConfig {
    method public int getCardinality();
    method @FlaggedApi("com.android.appsearch.flags.enable_app_functions") @NonNull public String getDescription();
    method @NonNull public String getName();
    field public static final int CARDINALITY_OPTIONAL = 2; // 0x2
    field public static final int CARDINALITY_REPEATED = 1; // 0x1
    field public static final int CARDINALITY_REQUIRED = 3; // 0x3
  }

  public static final class AppSearchSchema.StringPropertyConfig extends android.app.appsearch.AppSearchSchema.PropertyConfig {
    method public int getIndexingType();
    method public int getJoinableValueType();
    method public int getTokenizerType();
    field public static final int INDEXING_TYPE_EXACT_TERMS = 1; // 0x1
    field public static final int INDEXING_TYPE_NONE = 0; // 0x0
    field public static final int INDEXING_TYPE_PREFIXES = 2; // 0x2
    field public static final int JOINABLE_VALUE_TYPE_NONE = 0; // 0x0
    field public static final int JOINABLE_VALUE_TYPE_QUALIFIED_ID = 1; // 0x1
    field public static final int TOKENIZER_TYPE_NONE = 0; // 0x0
    field public static final int TOKENIZER_TYPE_PLAIN = 1; // 0x1
    field public static final int TOKENIZER_TYPE_RFC822 = 3; // 0x3
    field public static final int TOKENIZER_TYPE_VERBATIM = 2; // 0x2
  }

  public static final class AppSearchSchema.StringPropertyConfig.Builder {
    ctor public AppSearchSchema.StringPropertyConfig.Builder(@NonNull String);
    method @NonNull public android.app.appsearch.AppSearchSchema.StringPropertyConfig build();
    method @NonNull public android.app.appsearch.AppSearchSchema.StringPropertyConfig.Builder setCardinality(int);
    method @FlaggedApi("com.android.appsearch.flags.enable_app_functions") @NonNull public android.app.appsearch.AppSearchSchema.StringPropertyConfig.Builder setDescription(@NonNull String);
    method @NonNull public android.app.appsearch.AppSearchSchema.StringPropertyConfig.Builder setIndexingType(int);
    method @NonNull public android.app.appsearch.AppSearchSchema.StringPropertyConfig.Builder setJoinableValueType(int);
    method @NonNull public android.app.appsearch.AppSearchSchema.StringPropertyConfig.Builder setTokenizerType(int);
  }

  public final class AppSearchSession implements java.io.Closeable {
    method public void close();
    method public void getByDocumentId(@NonNull android.app.appsearch.GetByDocumentIdRequest, @NonNull java.util.concurrent.Executor, @NonNull android.app.appsearch.BatchResultCallback<java.lang.String,android.app.appsearch.GenericDocument>);
    method public void getNamespaces(@NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<java.util.Set<java.lang.String>>>);
    method public void getSchema(@NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<android.app.appsearch.GetSchemaResponse>>);
    method public void getStorageInfo(@NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<android.app.appsearch.StorageInfo>>);
    method public void put(@NonNull android.app.appsearch.PutDocumentsRequest, @NonNull java.util.concurrent.Executor, @NonNull android.app.appsearch.BatchResultCallback<java.lang.String,java.lang.Void>);
    method public void remove(@NonNull android.app.appsearch.RemoveByDocumentIdRequest, @NonNull java.util.concurrent.Executor, @NonNull android.app.appsearch.BatchResultCallback<java.lang.String,java.lang.Void>);
    method public void remove(@NonNull String, @NonNull android.app.appsearch.SearchSpec, @NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<java.lang.Void>>);
    method public void reportUsage(@NonNull android.app.appsearch.ReportUsageRequest, @NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<java.lang.Void>>);
    method @NonNull public android.app.appsearch.SearchResults search(@NonNull String, @NonNull android.app.appsearch.SearchSpec);
    method public void searchSuggestion(@NonNull String, @NonNull android.app.appsearch.SearchSuggestionSpec, @NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<java.util.List<android.app.appsearch.SearchSuggestionResult>>>);
    method public void setSchema(@NonNull android.app.appsearch.SetSchemaRequest, @NonNull java.util.concurrent.Executor, @NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<android.app.appsearch.SetSchemaResponse>>);
  }

  public interface BatchResultCallback<KeyType, ValueType> {
    method public void onResult(@NonNull android.app.appsearch.AppSearchBatchResult<KeyType,ValueType>);
    method public default void onSystemError(@Nullable Throwable);
  }

  @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") public final class EmbeddingVector implements android.os.Parcelable {
    ctor public EmbeddingVector(@NonNull float[], @NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public String getModelSignature();
    method @NonNull public float[] getValues();
    method public void writeToParcel(@NonNull android.os.Parcel, int);
    field @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.EmbeddingVector> CREATOR;
  }

  @FlaggedApi("com.android.appsearch.flags.enable_enterprise_global_search_session") public class EnterpriseGlobalSearchSession {
    method public void getByDocumentId(@NonNull String, @NonNull String, @NonNull android.app.appsearch.GetByDocumentIdRequest, @NonNull java.util.concurrent.Executor, @NonNull android.app.appsearch.BatchResultCallback<java.lang.String,android.app.appsearch.GenericDocument>);
    method public void getSchema(@NonNull String, @NonNull String, @NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<android.app.appsearch.GetSchemaResponse>>);
    method @NonNull public android.app.appsearch.SearchResults search(@NonNull String, @NonNull android.app.appsearch.SearchSpec);
  }

  public class GenericDocument {
    ctor protected GenericDocument(@NonNull android.app.appsearch.GenericDocument);
    method public long getCreationTimestampMillis();
    method @NonNull public String getId();
    method public static int getMaxIndexedProperties();
    method @NonNull public String getNamespace();
    method @Nullable public Object getProperty(@NonNull String);
    method public boolean getPropertyBoolean(@NonNull String);
    method @Nullable public boolean[] getPropertyBooleanArray(@NonNull String);
    method @Nullable public byte[] getPropertyBytes(@NonNull String);
    method @Nullable public byte[][] getPropertyBytesArray(@NonNull String);
    method @Nullable public android.app.appsearch.GenericDocument getPropertyDocument(@NonNull String);
    method @Nullable public android.app.appsearch.GenericDocument[] getPropertyDocumentArray(@NonNull String);
    method public double getPropertyDouble(@NonNull String);
    method @Nullable public double[] getPropertyDoubleArray(@NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") @Nullable public android.app.appsearch.EmbeddingVector getPropertyEmbedding(@NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") @Nullable public android.app.appsearch.EmbeddingVector[] getPropertyEmbeddingArray(@NonNull String);
    method public long getPropertyLong(@NonNull String);
    method @Nullable public long[] getPropertyLongArray(@NonNull String);
    method @NonNull public java.util.Set<java.lang.String> getPropertyNames();
    method @Nullable public String getPropertyString(@NonNull String);
    method @Nullable public String[] getPropertyStringArray(@NonNull String);
    method @NonNull public String getSchemaType();
    method public int getScore();
    method public long getTtlMillis();
  }

  public static class GenericDocument.Builder<BuilderType extends android.app.appsearch.GenericDocument.Builder> {
    ctor public GenericDocument.Builder(@NonNull String, @NonNull String, @NonNull String);
    ctor @FlaggedApi("com.android.appsearch.flags.enable_generic_document_copy_constructor") public GenericDocument.Builder(@NonNull android.app.appsearch.GenericDocument);
    method @NonNull public android.app.appsearch.GenericDocument build();
    method @FlaggedApi("com.android.appsearch.flags.enable_generic_document_builder_hidden_methods") @NonNull public BuilderType clearProperty(@NonNull String);
    method @NonNull public BuilderType setCreationTimestampMillis(long);
    method @FlaggedApi("com.android.appsearch.flags.enable_generic_document_builder_hidden_methods") @NonNull public BuilderType setId(@NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_generic_document_builder_hidden_methods") @NonNull public BuilderType setNamespace(@NonNull String);
    method @NonNull public BuilderType setPropertyBoolean(@NonNull String, @NonNull boolean...);
    method @NonNull public BuilderType setPropertyBytes(@NonNull String, @NonNull byte[]...);
    method @NonNull public BuilderType setPropertyDocument(@NonNull String, @NonNull android.app.appsearch.GenericDocument...);
    method @NonNull public BuilderType setPropertyDouble(@NonNull String, @NonNull double...);
    method @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") @NonNull public BuilderType setPropertyEmbedding(@NonNull String, @NonNull android.app.appsearch.EmbeddingVector...);
    method @NonNull public BuilderType setPropertyLong(@NonNull String, @NonNull long...);
    method @NonNull public BuilderType setPropertyString(@NonNull String, @NonNull java.lang.String...);
    method @FlaggedApi("com.android.appsearch.flags.enable_generic_document_builder_hidden_methods") @NonNull public BuilderType setSchemaType(@NonNull String);
    method @NonNull public BuilderType setScore(@IntRange(from=0, to=java.lang.Integer.MAX_VALUE) int);
    method @NonNull public BuilderType setTtlMillis(long);
  }

  public final class GetByDocumentIdRequest implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public java.util.Set<java.lang.String> getIds();
    method @NonNull public String getNamespace();
    method @NonNull public java.util.Map<java.lang.String,java.util.List<android.app.appsearch.PropertyPath>> getProjectionPaths();
    method @NonNull public java.util.Map<java.lang.String,java.util.List<java.lang.String>> getProjections();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.GetByDocumentIdRequest> CREATOR;
    field public static final String PROJECTION_SCHEMA_TYPE_WILDCARD = "*";
  }

  public static final class GetByDocumentIdRequest.Builder {
    ctor public GetByDocumentIdRequest.Builder(@NonNull String);
    method @NonNull public android.app.appsearch.GetByDocumentIdRequest.Builder addIds(@NonNull java.lang.String...);
    method @NonNull public android.app.appsearch.GetByDocumentIdRequest.Builder addIds(@NonNull java.util.Collection<java.lang.String>);
    method @NonNull public android.app.appsearch.GetByDocumentIdRequest.Builder addProjection(@NonNull String, @NonNull java.util.Collection<java.lang.String>);
    method @NonNull public android.app.appsearch.GetByDocumentIdRequest.Builder addProjectionPaths(@NonNull String, @NonNull java.util.Collection<android.app.appsearch.PropertyPath>);
    method @NonNull public android.app.appsearch.GetByDocumentIdRequest build();
  }

  public final class GetSchemaResponse implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @FlaggedApi("com.android.appsearch.flags.enable_set_publicly_visible_schema") @NonNull public java.util.Map<java.lang.String,android.app.appsearch.PackageIdentifier> getPubliclyVisibleSchemas();
    method @NonNull public java.util.Map<java.lang.String,java.util.Set<java.util.Set<java.lang.Integer>>> getRequiredPermissionsForSchemaTypeVisibility();
    method @NonNull public java.util.Set<java.lang.String> getSchemaTypesNotDisplayedBySystem();
    method @FlaggedApi("com.android.appsearch.flags.enable_set_schema_visible_to_configs") @NonNull public java.util.Map<java.lang.String,java.util.Set<android.app.appsearch.SchemaVisibilityConfig>> getSchemaTypesVisibleToConfigs();
    method @NonNull public java.util.Map<java.lang.String,java.util.Set<android.app.appsearch.PackageIdentifier>> getSchemaTypesVisibleToPackages();
    method @NonNull public java.util.Set<android.app.appsearch.AppSearchSchema> getSchemas();
    method @IntRange(from=0) public int getVersion();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.GetSchemaResponse> CREATOR;
  }

  public static final class GetSchemaResponse.Builder {
    ctor public GetSchemaResponse.Builder();
    ctor @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") public GetSchemaResponse.Builder(@NonNull android.app.appsearch.GetSchemaResponse);
    method @NonNull public android.app.appsearch.GetSchemaResponse.Builder addSchema(@NonNull android.app.appsearch.AppSearchSchema);
    method @NonNull public android.app.appsearch.GetSchemaResponse.Builder addSchemaTypeNotDisplayedBySystem(@NonNull String);
    method @NonNull public android.app.appsearch.GetSchemaResponse build();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.GetSchemaResponse.Builder clearSchemaTypeVisibilityConfig(@NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.GetSchemaResponse.Builder clearSchemaTypeVisibilityConfigs();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.GetSchemaResponse.Builder clearSchemas();
    method @FlaggedApi("com.android.appsearch.flags.enable_set_publicly_visible_schema") @NonNull public android.app.appsearch.GetSchemaResponse.Builder setPubliclyVisibleSchema(@NonNull String, @NonNull android.app.appsearch.PackageIdentifier);
    method @NonNull public android.app.appsearch.GetSchemaResponse.Builder setRequiredPermissionsForSchemaTypeVisibility(@NonNull String, @NonNull java.util.Set<java.util.Set<java.lang.Integer>>);
    method @FlaggedApi("com.android.appsearch.flags.enable_set_schema_visible_to_configs") @NonNull public android.app.appsearch.GetSchemaResponse.Builder setSchemaTypeVisibleToConfigs(@NonNull String, @NonNull java.util.Set<android.app.appsearch.SchemaVisibilityConfig>);
    method @NonNull public android.app.appsearch.GetSchemaResponse.Builder setSchemaTypeVisibleToPackages(@NonNull String, @NonNull java.util.Set<android.app.appsearch.PackageIdentifier>);
    method @NonNull public android.app.appsearch.GetSchemaResponse.Builder setVersion(@IntRange(from=0) int);
  }

  public class GlobalSearchSession implements java.io.Closeable {
    method public void close();
    method public void getByDocumentId(@NonNull String, @NonNull String, @NonNull android.app.appsearch.GetByDocumentIdRequest, @NonNull java.util.concurrent.Executor, @NonNull android.app.appsearch.BatchResultCallback<java.lang.String,android.app.appsearch.GenericDocument>);
    method public void getSchema(@NonNull String, @NonNull String, @NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<android.app.appsearch.GetSchemaResponse>>);
    method public void registerObserverCallback(@NonNull String, @NonNull android.app.appsearch.observer.ObserverSpec, @NonNull java.util.concurrent.Executor, @NonNull android.app.appsearch.observer.ObserverCallback) throws android.app.appsearch.exceptions.AppSearchException;
    method public void reportSystemUsage(@NonNull android.app.appsearch.ReportSystemUsageRequest, @NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<java.lang.Void>>);
    method @NonNull public android.app.appsearch.SearchResults search(@NonNull String, @NonNull android.app.appsearch.SearchSpec);
    method public void unregisterObserverCallback(@NonNull String, @NonNull android.app.appsearch.observer.ObserverCallback) throws android.app.appsearch.exceptions.AppSearchException;
  }

  public final class JoinSpec implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method public int getAggregationScoringStrategy();
    method @NonNull public String getChildPropertyExpression();
    method public int getMaxJoinedResultCount();
    method @NonNull public String getNestedQuery();
    method @NonNull public android.app.appsearch.SearchSpec getNestedSearchSpec();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field public static final int AGGREGATION_SCORING_AVG_RANKING_SIGNAL = 3; // 0x3
    field public static final int AGGREGATION_SCORING_MAX_RANKING_SIGNAL = 4; // 0x4
    field public static final int AGGREGATION_SCORING_MIN_RANKING_SIGNAL = 2; // 0x2
    field public static final int AGGREGATION_SCORING_OUTER_RESULT_RANKING_SIGNAL = 0; // 0x0
    field public static final int AGGREGATION_SCORING_RESULT_COUNT = 1; // 0x1
    field public static final int AGGREGATION_SCORING_SUM_RANKING_SIGNAL = 5; // 0x5
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.JoinSpec> CREATOR;
  }

  public static final class JoinSpec.Builder {
    ctor public JoinSpec.Builder(@NonNull String);
    ctor @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") public JoinSpec.Builder(@NonNull android.app.appsearch.JoinSpec);
    method @NonNull public android.app.appsearch.JoinSpec build();
    method @NonNull public android.app.appsearch.JoinSpec.Builder setAggregationScoringStrategy(int);
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.JoinSpec.Builder setChildPropertyExpression(@NonNull String);
    method @NonNull public android.app.appsearch.JoinSpec.Builder setMaxJoinedResultCount(int);
    method @NonNull public android.app.appsearch.JoinSpec.Builder setNestedSearch(@NonNull String, @NonNull android.app.appsearch.SearchSpec);
  }

  public abstract class Migrator {
    ctor public Migrator();
    method @NonNull @WorkerThread public abstract android.app.appsearch.GenericDocument onDowngrade(int, int, @NonNull android.app.appsearch.GenericDocument);
    method @NonNull @WorkerThread public abstract android.app.appsearch.GenericDocument onUpgrade(int, int, @NonNull android.app.appsearch.GenericDocument);
    method public abstract boolean shouldMigrate(int, int);
  }

  public class PackageIdentifier {
    ctor public PackageIdentifier(@NonNull String, @NonNull byte[]);
    method @NonNull public String getPackageName();
    method @NonNull public byte[] getSha256Certificate();
  }

  public class PropertyPath implements java.lang.Iterable<android.app.appsearch.PropertyPath.PathSegment> {
    ctor public PropertyPath(@NonNull java.util.List<android.app.appsearch.PropertyPath.PathSegment>);
    ctor public PropertyPath(@NonNull String);
    method @NonNull public android.app.appsearch.PropertyPath.PathSegment get(int);
    method @NonNull public java.util.Iterator<android.app.appsearch.PropertyPath.PathSegment> iterator();
    method public int size();
  }

  public static class PropertyPath.PathSegment {
    method @NonNull public static android.app.appsearch.PropertyPath.PathSegment create(@NonNull String, int);
    method @NonNull public static android.app.appsearch.PropertyPath.PathSegment create(@NonNull String);
    method public int getPropertyIndex();
    method @NonNull public String getPropertyName();
    field public static final int NON_REPEATED_CARDINALITY = -1; // 0xffffffff
  }

  public final class PutDocumentsRequest {
    method @NonNull public java.util.List<android.app.appsearch.GenericDocument> getGenericDocuments();
    method @FlaggedApi("com.android.appsearch.flags.enable_put_documents_request_add_taken_actions") @NonNull public java.util.List<android.app.appsearch.GenericDocument> getTakenActionGenericDocuments();
  }

  public static final class PutDocumentsRequest.Builder {
    ctor public PutDocumentsRequest.Builder();
    method @NonNull public android.app.appsearch.PutDocumentsRequest.Builder addGenericDocuments(@NonNull android.app.appsearch.GenericDocument...);
    method @NonNull public android.app.appsearch.PutDocumentsRequest.Builder addGenericDocuments(@NonNull java.util.Collection<? extends android.app.appsearch.GenericDocument>);
    method @FlaggedApi("com.android.appsearch.flags.enable_put_documents_request_add_taken_actions") @NonNull public android.app.appsearch.PutDocumentsRequest.Builder addTakenActionGenericDocuments(@NonNull android.app.appsearch.GenericDocument...) throws android.app.appsearch.exceptions.AppSearchException;
    method @FlaggedApi("com.android.appsearch.flags.enable_put_documents_request_add_taken_actions") @NonNull public android.app.appsearch.PutDocumentsRequest.Builder addTakenActionGenericDocuments(@NonNull java.util.Collection<? extends android.app.appsearch.GenericDocument>) throws android.app.appsearch.exceptions.AppSearchException;
    method @NonNull public android.app.appsearch.PutDocumentsRequest build();
  }

  public final class RemoveByDocumentIdRequest implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public java.util.Set<java.lang.String> getIds();
    method @NonNull public String getNamespace();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.RemoveByDocumentIdRequest> CREATOR;
  }

  public static final class RemoveByDocumentIdRequest.Builder {
    ctor public RemoveByDocumentIdRequest.Builder(@NonNull String);
    method @NonNull public android.app.appsearch.RemoveByDocumentIdRequest.Builder addIds(@NonNull java.lang.String...);
    method @NonNull public android.app.appsearch.RemoveByDocumentIdRequest.Builder addIds(@NonNull java.util.Collection<java.lang.String>);
    method @NonNull public android.app.appsearch.RemoveByDocumentIdRequest build();
  }

  public final class ReportSystemUsageRequest {
    method @NonNull public String getDatabaseName();
    method @NonNull public String getDocumentId();
    method @NonNull public String getNamespace();
    method @NonNull public String getPackageName();
    method public long getUsageTimestampMillis();
  }

  public static final class ReportSystemUsageRequest.Builder {
    ctor public ReportSystemUsageRequest.Builder(@NonNull String, @NonNull String, @NonNull String, @NonNull String);
    method @NonNull public android.app.appsearch.ReportSystemUsageRequest build();
    method @NonNull public android.app.appsearch.ReportSystemUsageRequest.Builder setUsageTimestampMillis(long);
  }

  public final class ReportUsageRequest implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public String getDocumentId();
    method @NonNull public String getNamespace();
    method public long getUsageTimestampMillis();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.ReportUsageRequest> CREATOR;
  }

  public static final class ReportUsageRequest.Builder {
    ctor public ReportUsageRequest.Builder(@NonNull String, @NonNull String);
    method @NonNull public android.app.appsearch.ReportUsageRequest build();
    method @NonNull public android.app.appsearch.ReportUsageRequest.Builder setUsageTimestampMillis(long);
  }

  @FlaggedApi("com.android.appsearch.flags.enable_set_schema_visible_to_configs") public final class SchemaVisibilityConfig implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public java.util.List<android.app.appsearch.PackageIdentifier> getAllowedPackages();
    method @Nullable public android.app.appsearch.PackageIdentifier getPubliclyVisibleTargetPackage();
    method @NonNull public java.util.Set<java.util.Set<java.lang.Integer>> getRequiredPermissions();
    method public void writeToParcel(@NonNull android.os.Parcel, int);
    field @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.SchemaVisibilityConfig> CREATOR;
  }

  @FlaggedApi("com.android.appsearch.flags.enable_set_schema_visible_to_configs") public static final class SchemaVisibilityConfig.Builder {
    ctor public SchemaVisibilityConfig.Builder();
    method @NonNull public android.app.appsearch.SchemaVisibilityConfig.Builder addAllowedPackage(@NonNull android.app.appsearch.PackageIdentifier);
    method @NonNull public android.app.appsearch.SchemaVisibilityConfig.Builder addRequiredPermissions(@NonNull java.util.Set<java.lang.Integer>);
    method @NonNull public android.app.appsearch.SchemaVisibilityConfig build();
    method @NonNull public android.app.appsearch.SchemaVisibilityConfig.Builder clearAllowedPackages();
    method @NonNull public android.app.appsearch.SchemaVisibilityConfig.Builder clearRequiredPermissions();
    method @NonNull public android.app.appsearch.SchemaVisibilityConfig.Builder setPubliclyVisibleTargetPackage(@Nullable android.app.appsearch.PackageIdentifier);
  }

  public final class SearchResult implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public String getDatabaseName();
    method @NonNull public android.app.appsearch.GenericDocument getGenericDocument();
    method @FlaggedApi("com.android.appsearch.flags.enable_informational_ranking_expressions") @NonNull public java.util.List<java.lang.Double> getInformationalRankingSignals();
    method @NonNull public java.util.List<android.app.appsearch.SearchResult> getJoinedResults();
    method @NonNull public java.util.List<android.app.appsearch.SearchResult.MatchInfo> getMatchInfos();
    method @NonNull public String getPackageName();
    method public double getRankingSignal();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.SearchResult> CREATOR;
  }

  public static final class SearchResult.Builder {
    ctor public SearchResult.Builder(@NonNull String, @NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_informational_ranking_expressions") @NonNull public android.app.appsearch.SearchResult.Builder addInformationalRankingSignal(double);
    method @NonNull public android.app.appsearch.SearchResult.Builder addJoinedResult(@NonNull android.app.appsearch.SearchResult);
    method @NonNull public android.app.appsearch.SearchResult.Builder addMatchInfo(@NonNull android.app.appsearch.SearchResult.MatchInfo);
    method @NonNull public android.app.appsearch.SearchResult build();
    method @NonNull public android.app.appsearch.SearchResult.Builder setGenericDocument(@NonNull android.app.appsearch.GenericDocument);
    method @NonNull public android.app.appsearch.SearchResult.Builder setRankingSignal(double);
  }

  public static final class SearchResult.MatchInfo implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public CharSequence getExactMatch();
    method @NonNull public android.app.appsearch.SearchResult.MatchRange getExactMatchRange();
    method @NonNull public String getFullText();
    method @NonNull public String getPropertyPath();
    method @NonNull public android.app.appsearch.PropertyPath getPropertyPathObject();
    method @NonNull public CharSequence getSnippet();
    method @NonNull public android.app.appsearch.SearchResult.MatchRange getSnippetRange();
    method @NonNull public CharSequence getSubmatch();
    method @NonNull public android.app.appsearch.SearchResult.MatchRange getSubmatchRange();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.SearchResult.MatchInfo> CREATOR;
  }

  public static final class SearchResult.MatchInfo.Builder {
    ctor public SearchResult.MatchInfo.Builder(@NonNull String);
    method @NonNull public android.app.appsearch.SearchResult.MatchInfo build();
    method @NonNull public android.app.appsearch.SearchResult.MatchInfo.Builder setExactMatchRange(@NonNull android.app.appsearch.SearchResult.MatchRange);
    method @NonNull public android.app.appsearch.SearchResult.MatchInfo.Builder setSnippetRange(@NonNull android.app.appsearch.SearchResult.MatchRange);
    method @NonNull public android.app.appsearch.SearchResult.MatchInfo.Builder setSubmatchRange(@NonNull android.app.appsearch.SearchResult.MatchRange);
  }

  public static final class SearchResult.MatchRange {
    ctor public SearchResult.MatchRange(int, int);
    method public int getEnd();
    method public int getStart();
  }

  public class SearchResults implements java.io.Closeable {
    method public void close();
    method public void getNextPage(@NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<java.util.List<android.app.appsearch.SearchResult>>>);
  }

  public final class SearchSpec implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public String getAdvancedRankingExpression();
    method @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") public int getDefaultEmbeddingSearchMetricType();
    method @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") @NonNull public java.util.List<android.app.appsearch.EmbeddingVector> getEmbeddingParameters();
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_filter_document_ids") @NonNull public java.util.List<java.lang.String> getFilterDocumentIds();
    method @NonNull public java.util.List<java.lang.String> getFilterNamespaces();
    method @NonNull public java.util.List<java.lang.String> getFilterPackageNames();
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_filter_properties") @NonNull public java.util.Map<java.lang.String,java.util.List<java.lang.String>> getFilterProperties();
    method @NonNull public java.util.List<java.lang.String> getFilterSchemas();
    method @FlaggedApi("com.android.appsearch.flags.enable_informational_ranking_expressions") @NonNull public java.util.List<java.lang.String> getInformationalRankingExpressions();
    method @Nullable public android.app.appsearch.JoinSpec getJoinSpec();
    method public int getMaxSnippetSize();
    method public int getOrder();
    method @NonNull public java.util.Map<java.lang.String,java.util.List<android.app.appsearch.PropertyPath>> getProjectionPaths();
    method @NonNull public java.util.Map<java.lang.String,java.util.List<java.lang.String>> getProjections();
    method @NonNull public java.util.Map<java.lang.String,java.util.Map<android.app.appsearch.PropertyPath,java.lang.Double>> getPropertyWeightPaths();
    method @NonNull public java.util.Map<java.lang.String,java.util.Map<java.lang.String,java.lang.Double>> getPropertyWeights();
    method public int getRankingStrategy();
    method public int getResultCountPerPage();
    method public int getResultGroupingLimit();
    method public int getResultGroupingTypeFlags();
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_set_search_source_log_tag") @Nullable public String getSearchSourceLogTag();
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_search_string_parameters") @NonNull public java.util.List<java.lang.String> getSearchStringParameters();
    method public int getSnippetCount();
    method public int getSnippetCountPerProperty();
    method public int getTermMatch();
    method @FlaggedApi("com.android.appsearch.flags.enable_list_filter_has_property_function") public boolean isListFilterHasPropertyFunctionEnabled();
    method @FlaggedApi("com.android.appsearch.flags.enable_list_filter_match_score_expression_function") public boolean isListFilterMatchScoreExpressionFunctionEnabled();
    method public boolean isListFilterQueryLanguageEnabled();
    method public boolean isNumericSearchEnabled();
    method @FlaggedApi("com.android.appsearch.flags.enable_scorable_property") public boolean isScorablePropertyRankingEnabled();
    method public boolean isVerbatimSearchEnabled();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.SearchSpec> CREATOR;
    field @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") public static final int EMBEDDING_SEARCH_METRIC_TYPE_COSINE = 1; // 0x1
    field @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") public static final int EMBEDDING_SEARCH_METRIC_TYPE_DEFAULT = 0; // 0x0
    field @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") public static final int EMBEDDING_SEARCH_METRIC_TYPE_DOT_PRODUCT = 2; // 0x2
    field @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") public static final int EMBEDDING_SEARCH_METRIC_TYPE_EUCLIDEAN = 3; // 0x3
    field public static final int GROUPING_TYPE_PER_NAMESPACE = 2; // 0x2
    field public static final int GROUPING_TYPE_PER_PACKAGE = 1; // 0x1
    field @FlaggedApi("com.android.appsearch.flags.enable_grouping_type_per_schema") public static final int GROUPING_TYPE_PER_SCHEMA = 4; // 0x4
    field public static final int ORDER_ASCENDING = 1; // 0x1
    field public static final int ORDER_DESCENDING = 0; // 0x0
    field @Deprecated public static final String PROJECTION_SCHEMA_TYPE_WILDCARD = "*";
    field public static final int RANKING_STRATEGY_ADVANCED_RANKING_EXPRESSION = 9; // 0x9
    field public static final int RANKING_STRATEGY_CREATION_TIMESTAMP = 2; // 0x2
    field public static final int RANKING_STRATEGY_DOCUMENT_SCORE = 1; // 0x1
    field public static final int RANKING_STRATEGY_JOIN_AGGREGATE_SCORE = 8; // 0x8
    field public static final int RANKING_STRATEGY_NONE = 0; // 0x0
    field public static final int RANKING_STRATEGY_RELEVANCE_SCORE = 3; // 0x3
    field public static final int RANKING_STRATEGY_SYSTEM_USAGE_COUNT = 6; // 0x6
    field public static final int RANKING_STRATEGY_SYSTEM_USAGE_LAST_USED_TIMESTAMP = 7; // 0x7
    field public static final int RANKING_STRATEGY_USAGE_COUNT = 4; // 0x4
    field public static final int RANKING_STRATEGY_USAGE_LAST_USED_TIMESTAMP = 5; // 0x5
    field @FlaggedApi("com.android.appsearch.flags.enable_search_spec_filter_properties") public static final String SCHEMA_TYPE_WILDCARD = "*";
    field public static final int TERM_MATCH_EXACT_ONLY = 1; // 0x1
    field public static final int TERM_MATCH_PREFIX = 2; // 0x2
  }

  public static final class SearchSpec.Builder {
    ctor public SearchSpec.Builder();
    ctor @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") public SearchSpec.Builder(@NonNull android.app.appsearch.SearchSpec);
    method @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") @NonNull public android.app.appsearch.SearchSpec.Builder addEmbeddingParameters(@NonNull android.app.appsearch.EmbeddingVector...);
    method @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") @NonNull public android.app.appsearch.SearchSpec.Builder addEmbeddingParameters(@NonNull java.util.Collection<android.app.appsearch.EmbeddingVector>);
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_filter_document_ids") @NonNull public android.app.appsearch.SearchSpec.Builder addFilterDocumentIds(@NonNull java.lang.String...);
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_filter_document_ids") @NonNull public android.app.appsearch.SearchSpec.Builder addFilterDocumentIds(@NonNull java.util.Collection<java.lang.String>);
    method @NonNull public android.app.appsearch.SearchSpec.Builder addFilterNamespaces(@NonNull java.lang.String...);
    method @NonNull public android.app.appsearch.SearchSpec.Builder addFilterNamespaces(@NonNull java.util.Collection<java.lang.String>);
    method @NonNull public android.app.appsearch.SearchSpec.Builder addFilterPackageNames(@NonNull java.lang.String...);
    method @NonNull public android.app.appsearch.SearchSpec.Builder addFilterPackageNames(@NonNull java.util.Collection<java.lang.String>);
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_filter_properties") @NonNull public android.app.appsearch.SearchSpec.Builder addFilterProperties(@NonNull String, @NonNull java.util.Collection<java.lang.String>);
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_filter_properties") @NonNull public android.app.appsearch.SearchSpec.Builder addFilterPropertyPaths(@NonNull String, @NonNull java.util.Collection<android.app.appsearch.PropertyPath>);
    method @NonNull public android.app.appsearch.SearchSpec.Builder addFilterSchemas(@NonNull java.lang.String...);
    method @NonNull public android.app.appsearch.SearchSpec.Builder addFilterSchemas(@NonNull java.util.Collection<java.lang.String>);
    method @FlaggedApi("com.android.appsearch.flags.enable_informational_ranking_expressions") @NonNull public android.app.appsearch.SearchSpec.Builder addInformationalRankingExpressions(@NonNull java.lang.String...);
    method @FlaggedApi("com.android.appsearch.flags.enable_informational_ranking_expressions") @NonNull public android.app.appsearch.SearchSpec.Builder addInformationalRankingExpressions(@NonNull java.util.Collection<java.lang.String>);
    method @NonNull public android.app.appsearch.SearchSpec.Builder addProjection(@NonNull String, @NonNull java.util.Collection<java.lang.String>);
    method @NonNull public android.app.appsearch.SearchSpec.Builder addProjectionPaths(@NonNull String, @NonNull java.util.Collection<android.app.appsearch.PropertyPath>);
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_search_string_parameters") @NonNull public android.app.appsearch.SearchSpec.Builder addSearchStringParameters(@NonNull java.lang.String...);
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_search_string_parameters") @NonNull public android.app.appsearch.SearchSpec.Builder addSearchStringParameters(@NonNull java.util.List<java.lang.String>);
    method @NonNull public android.app.appsearch.SearchSpec build();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearEmbeddingParameters();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearFilterDocumentIds();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearFilterNamespaces();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearFilterPackageNames();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearFilterProperties();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearFilterSchemas();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearInformationalRankingExpressions();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearJoinSpec();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearProjections();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearPropertyWeights();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearResultGrouping();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearSearchSourceLogTag();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SearchSpec.Builder clearSearchStringParameters();
    method @FlaggedApi("com.android.appsearch.flags.enable_schema_embedding_property_config") @NonNull public android.app.appsearch.SearchSpec.Builder setDefaultEmbeddingSearchMetricType(int);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setJoinSpec(@NonNull android.app.appsearch.JoinSpec);
    method @FlaggedApi("com.android.appsearch.flags.enable_list_filter_has_property_function") @NonNull public android.app.appsearch.SearchSpec.Builder setListFilterHasPropertyFunctionEnabled(boolean);
    method @FlaggedApi("com.android.appsearch.flags.enable_list_filter_match_score_expression_function") @NonNull public android.app.appsearch.SearchSpec.Builder setListFilterMatchScoreExpressionFunctionEnabled(boolean);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setListFilterQueryLanguageEnabled(boolean);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setMaxSnippetSize(@IntRange(from=0, to=0x2710) int);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setNumericSearchEnabled(boolean);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setOrder(int);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setPropertyWeightPaths(@NonNull String, @NonNull java.util.Map<android.app.appsearch.PropertyPath,java.lang.Double>);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setPropertyWeights(@NonNull String, @NonNull java.util.Map<java.lang.String,java.lang.Double>);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setRankingStrategy(int);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setRankingStrategy(@NonNull String);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setResultCountPerPage(@IntRange(from=0, to=0x2710) int);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setResultGrouping(int, int);
    method @FlaggedApi("com.android.appsearch.flags.enable_scorable_property") @NonNull public android.app.appsearch.SearchSpec.Builder setScorablePropertyRankingEnabled(boolean);
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_set_search_source_log_tag") @NonNull public android.app.appsearch.SearchSpec.Builder setSearchSourceLogTag(@NonNull String);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setSnippetCount(@IntRange(from=0, to=0x2710) int);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setSnippetCountPerProperty(@IntRange(from=0, to=0x2710) int);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setTermMatch(int);
    method @NonNull public android.app.appsearch.SearchSpec.Builder setVerbatimSearchEnabled(boolean);
  }

  public final class SearchSuggestionResult implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public String getSuggestedResult();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.SearchSuggestionResult> CREATOR;
  }

  public static final class SearchSuggestionResult.Builder {
    ctor public SearchSuggestionResult.Builder();
    method @NonNull public android.app.appsearch.SearchSuggestionResult build();
    method @NonNull public android.app.appsearch.SearchSuggestionResult.Builder setSuggestedResult(@NonNull String);
  }

  public final class SearchSuggestionSpec implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public java.util.Map<java.lang.String,java.util.List<java.lang.String>> getFilterDocumentIds();
    method @NonNull public java.util.List<java.lang.String> getFilterNamespaces();
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_filter_properties") @NonNull public java.util.Map<java.lang.String,java.util.List<java.lang.String>> getFilterProperties();
    method @NonNull public java.util.List<java.lang.String> getFilterSchemas();
    method public int getMaximumResultCount();
    method public int getRankingStrategy();
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_search_string_parameters") @NonNull public java.util.List<java.lang.String> getSearchStringParameters();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.SearchSuggestionSpec> CREATOR;
    field public static final int SUGGESTION_RANKING_STRATEGY_DOCUMENT_COUNT = 0; // 0x0
    field public static final int SUGGESTION_RANKING_STRATEGY_NONE = 2; // 0x2
    field public static final int SUGGESTION_RANKING_STRATEGY_TERM_FREQUENCY = 1; // 0x1
  }

  public static final class SearchSuggestionSpec.Builder {
    ctor public SearchSuggestionSpec.Builder(@IntRange(from=1) int);
    method @NonNull public android.app.appsearch.SearchSuggestionSpec.Builder addFilterDocumentIds(@NonNull String, @NonNull java.lang.String...);
    method @NonNull public android.app.appsearch.SearchSuggestionSpec.Builder addFilterDocumentIds(@NonNull String, @NonNull java.util.Collection<java.lang.String>);
    method @NonNull public android.app.appsearch.SearchSuggestionSpec.Builder addFilterNamespaces(@NonNull java.lang.String...);
    method @NonNull public android.app.appsearch.SearchSuggestionSpec.Builder addFilterNamespaces(@NonNull java.util.Collection<java.lang.String>);
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_filter_properties") @NonNull public android.app.appsearch.SearchSuggestionSpec.Builder addFilterProperties(@NonNull String, @NonNull java.util.Collection<java.lang.String>);
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_filter_properties") @NonNull public android.app.appsearch.SearchSuggestionSpec.Builder addFilterPropertyPaths(@NonNull String, @NonNull java.util.Collection<android.app.appsearch.PropertyPath>);
    method @NonNull public android.app.appsearch.SearchSuggestionSpec.Builder addFilterSchemas(@NonNull java.lang.String...);
    method @NonNull public android.app.appsearch.SearchSuggestionSpec.Builder addFilterSchemas(@NonNull java.util.Collection<java.lang.String>);
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_search_string_parameters") @NonNull public android.app.appsearch.SearchSuggestionSpec.Builder addSearchStringParameters(@NonNull java.lang.String...);
    method @FlaggedApi("com.android.appsearch.flags.enable_search_spec_search_string_parameters") @NonNull public android.app.appsearch.SearchSuggestionSpec.Builder addSearchStringParameters(@NonNull java.util.List<java.lang.String>);
    method @NonNull public android.app.appsearch.SearchSuggestionSpec build();
    method @NonNull public android.app.appsearch.SearchSuggestionSpec.Builder setRankingStrategy(int);
  }

  public final class SetSchemaRequest {
    method @NonNull public java.util.Map<java.lang.String,android.app.appsearch.Migrator> getMigrators();
    method @FlaggedApi("com.android.appsearch.flags.enable_set_publicly_visible_schema") @NonNull public java.util.Map<java.lang.String,android.app.appsearch.PackageIdentifier> getPubliclyVisibleSchemas();
    method @NonNull public java.util.Map<java.lang.String,java.util.Set<java.util.Set<java.lang.Integer>>> getRequiredPermissionsForSchemaTypeVisibility();
    method @NonNull public java.util.Set<android.app.appsearch.AppSearchSchema> getSchemas();
    method @NonNull public java.util.Set<java.lang.String> getSchemasNotDisplayedBySystem();
    method @FlaggedApi("com.android.appsearch.flags.enable_set_schema_visible_to_configs") @NonNull public java.util.Map<java.lang.String,java.util.Set<android.app.appsearch.SchemaVisibilityConfig>> getSchemasVisibleToConfigs();
    method @NonNull public java.util.Map<java.lang.String,java.util.Set<android.app.appsearch.PackageIdentifier>> getSchemasVisibleToPackages();
    method @IntRange(from=1) public int getVersion();
    method public boolean isForceOverride();
    field public static final int READ_ASSISTANT_APP_SEARCH_DATA = 6; // 0x6
    field public static final int READ_CALENDAR = 2; // 0x2
    field public static final int READ_CONTACTS = 3; // 0x3
    field public static final int READ_EXTERNAL_STORAGE = 4; // 0x4
    field public static final int READ_HOME_APP_SEARCH_DATA = 5; // 0x5
    field public static final int READ_SMS = 1; // 0x1
  }

  public static final class SetSchemaRequest.Builder {
    ctor public SetSchemaRequest.Builder();
    ctor @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") public SetSchemaRequest.Builder(@NonNull android.app.appsearch.SetSchemaRequest);
    method @NonNull public android.app.appsearch.SetSchemaRequest.Builder addRequiredPermissionsForSchemaTypeVisibility(@NonNull String, @NonNull java.util.Set<java.lang.Integer>);
    method @FlaggedApi("com.android.appsearch.flags.enable_set_schema_visible_to_configs") @NonNull public android.app.appsearch.SetSchemaRequest.Builder addSchemaTypeVisibleToConfig(@NonNull String, @NonNull android.app.appsearch.SchemaVisibilityConfig);
    method @NonNull public android.app.appsearch.SetSchemaRequest.Builder addSchemas(@NonNull android.app.appsearch.AppSearchSchema...);
    method @NonNull public android.app.appsearch.SetSchemaRequest.Builder addSchemas(@NonNull java.util.Collection<android.app.appsearch.AppSearchSchema>);
    method @NonNull public android.app.appsearch.SetSchemaRequest build();
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SetSchemaRequest.Builder clearMigrators();
    method @NonNull public android.app.appsearch.SetSchemaRequest.Builder clearRequiredPermissionsForSchemaTypeVisibility(@NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_set_schema_visible_to_configs") @NonNull public android.app.appsearch.SetSchemaRequest.Builder clearSchemaTypeVisibleToConfigs(@NonNull String);
    method @FlaggedApi("com.android.appsearch.flags.enable_additional_builder_copy_constructors") @NonNull public android.app.appsearch.SetSchemaRequest.Builder clearSchemas();
    method @NonNull public android.app.appsearch.SetSchemaRequest.Builder setForceOverride(boolean);
    method @NonNull public android.app.appsearch.SetSchemaRequest.Builder setMigrator(@NonNull String, @NonNull android.app.appsearch.Migrator);
    method @NonNull public android.app.appsearch.SetSchemaRequest.Builder setMigrators(@NonNull java.util.Map<java.lang.String,android.app.appsearch.Migrator>);
    method @FlaggedApi("com.android.appsearch.flags.enable_set_publicly_visible_schema") @NonNull public android.app.appsearch.SetSchemaRequest.Builder setPubliclyVisibleSchema(@NonNull String, @Nullable android.app.appsearch.PackageIdentifier);
    method @NonNull public android.app.appsearch.SetSchemaRequest.Builder setSchemaTypeDisplayedBySystem(@NonNull String, boolean);
    method @NonNull public android.app.appsearch.SetSchemaRequest.Builder setSchemaTypeVisibilityForPackage(@NonNull String, boolean, @NonNull android.app.appsearch.PackageIdentifier);
    method @NonNull public android.app.appsearch.SetSchemaRequest.Builder setVersion(@IntRange(from=1) int);
  }

  public final class SetSchemaResponse implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public java.util.Set<java.lang.String> getDeletedTypes();
    method @NonNull public java.util.Set<java.lang.String> getIncompatibleTypes();
    method @NonNull public java.util.Set<java.lang.String> getMigratedTypes();
    method @NonNull public java.util.List<android.app.appsearch.SetSchemaResponse.MigrationFailure> getMigrationFailures();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.SetSchemaResponse> CREATOR;
  }

  public static final class SetSchemaResponse.Builder {
    ctor public SetSchemaResponse.Builder();
    method @NonNull public android.app.appsearch.SetSchemaResponse.Builder addDeletedType(@NonNull String);
    method @NonNull public android.app.appsearch.SetSchemaResponse.Builder addDeletedTypes(@NonNull java.util.Collection<java.lang.String>);
    method @NonNull public android.app.appsearch.SetSchemaResponse.Builder addIncompatibleType(@NonNull String);
    method @NonNull public android.app.appsearch.SetSchemaResponse.Builder addIncompatibleTypes(@NonNull java.util.Collection<java.lang.String>);
    method @NonNull public android.app.appsearch.SetSchemaResponse.Builder addMigratedType(@NonNull String);
    method @NonNull public android.app.appsearch.SetSchemaResponse.Builder addMigratedTypes(@NonNull java.util.Collection<java.lang.String>);
    method @NonNull public android.app.appsearch.SetSchemaResponse.Builder addMigrationFailure(@NonNull android.app.appsearch.SetSchemaResponse.MigrationFailure);
    method @NonNull public android.app.appsearch.SetSchemaResponse.Builder addMigrationFailures(@NonNull java.util.Collection<android.app.appsearch.SetSchemaResponse.MigrationFailure>);
    method @NonNull public android.app.appsearch.SetSchemaResponse build();
  }

  public static class SetSchemaResponse.MigrationFailure implements android.os.Parcelable {
    ctor public SetSchemaResponse.MigrationFailure(@NonNull String, @NonNull String, @NonNull String, @NonNull android.app.appsearch.AppSearchResult<?>);
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public android.app.appsearch.AppSearchResult<java.lang.Void> getAppSearchResult();
    method @NonNull public String getDocumentId();
    method @NonNull public String getNamespace();
    method @NonNull public String getSchemaType();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.SetSchemaResponse.MigrationFailure> CREATOR;
  }

  public final class StorageInfo implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method public int getAliveDocumentsCount();
    method public int getAliveNamespacesCount();
    method public long getSizeBytes();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.StorageInfo> CREATOR;
  }

  public static final class StorageInfo.Builder {
    ctor public StorageInfo.Builder();
    method @NonNull public android.app.appsearch.StorageInfo build();
    method @NonNull public android.app.appsearch.StorageInfo.Builder setAliveDocumentsCount(int);
    method @NonNull public android.app.appsearch.StorageInfo.Builder setAliveNamespacesCount(int);
    method @NonNull public android.app.appsearch.StorageInfo.Builder setSizeBytes(long);
  }

}

package android.app.appsearch.ast {

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public interface FunctionNode extends android.app.appsearch.ast.Node {
    method @NonNull public String getFunctionName();
    field public static final String FUNCTION_NAME_GET_SEARCH_STRING_PARAMETER = "getSearchStringParameter";
    field public static final String FUNCTION_NAME_HAS_PROPERTY = "hasProperty";
    field public static final String FUNCTION_NAME_PROPERTY_DEFINED = "propertyDefined";
    field public static final String FUNCTION_NAME_SEARCH = "search";
    field public static final String FUNCTION_NAME_SEMANTIC_SEARCH = "semanticSearch";
  }

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public final class NegationNode implements android.app.appsearch.ast.Node {
    ctor public NegationNode(@NonNull android.app.appsearch.ast.Node);
    method @NonNull public android.app.appsearch.ast.Node getChild();
    method @NonNull public java.util.List<android.app.appsearch.ast.Node> getChildren();
    method public void setChild(@NonNull android.app.appsearch.ast.Node);
  }

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public interface Node {
    method @NonNull public default java.util.List<android.app.appsearch.ast.Node> getChildren();
  }

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public final class TextNode implements android.app.appsearch.ast.Node {
    ctor public TextNode(@NonNull String);
    ctor public TextNode(@NonNull android.app.appsearch.ast.TextNode);
    method @NonNull public String getValue();
    method public boolean isPrefix();
    method public boolean isVerbatim();
    method public void setPrefix(boolean);
    method public void setValue(@NonNull String);
    method public void setVerbatim(boolean);
  }

}

package android.app.appsearch.ast.operators {

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public final class AndNode implements android.app.appsearch.ast.Node {
    ctor public AndNode(@NonNull java.util.List<android.app.appsearch.ast.Node>);
    ctor public AndNode(@NonNull android.app.appsearch.ast.Node, @NonNull android.app.appsearch.ast.Node, @NonNull android.app.appsearch.ast.Node...);
    method public void addChild(@NonNull android.app.appsearch.ast.Node);
    method @NonNull public java.util.List<android.app.appsearch.ast.Node> getChildren();
    method public void removeChild(int);
    method public void setChild(int, @NonNull android.app.appsearch.ast.Node);
    method public void setChildren(@NonNull java.util.List<android.app.appsearch.ast.Node>);
  }

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public final class ComparatorNode implements android.app.appsearch.ast.Node {
    ctor public ComparatorNode(int, @NonNull android.app.appsearch.PropertyPath, long);
    method public int getComparator();
    method @NonNull public android.app.appsearch.PropertyPath getPropertyPath();
    method public long getValue();
    method public void setComparator(int);
    method public void setPropertyPath(@NonNull android.app.appsearch.PropertyPath);
    method public void setValue(long);
    field public static final int EQUALS = 0; // 0x0
    field public static final int GREATER_EQUALS = 4; // 0x4
    field public static final int GREATER_THAN = 3; // 0x3
    field public static final int LESS_EQUALS = 2; // 0x2
    field public static final int LESS_THAN = 1; // 0x1
  }

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public final class OrNode implements android.app.appsearch.ast.Node {
    ctor public OrNode(@NonNull java.util.List<android.app.appsearch.ast.Node>);
    ctor public OrNode(@NonNull android.app.appsearch.ast.Node, @NonNull android.app.appsearch.ast.Node, @NonNull android.app.appsearch.ast.Node...);
    method public void addChild(@NonNull android.app.appsearch.ast.Node);
    method @NonNull public java.util.List<android.app.appsearch.ast.Node> getChildren();
    method public void removeChild(int);
    method public void setChild(int, @NonNull android.app.appsearch.ast.Node);
    method public void setChildren(@NonNull java.util.List<android.app.appsearch.ast.Node>);
  }

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public final class PropertyRestrictNode implements android.app.appsearch.ast.Node {
    ctor public PropertyRestrictNode(@NonNull android.app.appsearch.PropertyPath, @NonNull android.app.appsearch.ast.Node);
    method @NonNull public android.app.appsearch.ast.Node getChild();
    method @NonNull public java.util.List<android.app.appsearch.ast.Node> getChildren();
    method @NonNull public android.app.appsearch.PropertyPath getProperty();
    method public void setChild(@NonNull android.app.appsearch.ast.Node);
    method public void setProperty(@NonNull android.app.appsearch.PropertyPath);
  }

}

package android.app.appsearch.ast.query {

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public final class GetSearchStringParameterNode implements android.app.appsearch.ast.FunctionNode {
    ctor public GetSearchStringParameterNode(int);
    method @NonNull public String getFunctionName();
    method public int getSearchStringIndex();
    method public void setSearchStringIndex(int);
  }

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public final class HasPropertyNode implements android.app.appsearch.ast.FunctionNode {
    ctor public HasPropertyNode(@NonNull android.app.appsearch.PropertyPath);
    method @NonNull public String getFunctionName();
    method @NonNull public android.app.appsearch.PropertyPath getProperty();
    method public void setProperty(@NonNull android.app.appsearch.PropertyPath);
  }

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public final class PropertyDefinedNode implements android.app.appsearch.ast.FunctionNode {
    ctor public PropertyDefinedNode(@NonNull android.app.appsearch.PropertyPath);
    method @NonNull public String getFunctionName();
    method @NonNull public android.app.appsearch.PropertyPath getProperty();
    method public void setProperty(@NonNull android.app.appsearch.PropertyPath);
  }

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public final class SearchNode implements android.app.appsearch.ast.FunctionNode {
    ctor public SearchNode(@NonNull android.app.appsearch.ast.Node, @NonNull java.util.List<android.app.appsearch.PropertyPath>);
    ctor public SearchNode(@NonNull android.app.appsearch.ast.Node);
    method public void addProperty(@NonNull android.app.appsearch.PropertyPath);
    method @NonNull public android.app.appsearch.ast.Node getChild();
    method @NonNull public java.util.List<android.app.appsearch.ast.Node> getChildren();
    method @NonNull public String getFunctionName();
    method @NonNull public java.util.List<android.app.appsearch.PropertyPath> getProperties();
    method public void setChild(@NonNull android.app.appsearch.ast.Node);
    method public void setProperties(@NonNull java.util.List<android.app.appsearch.PropertyPath>);
  }

  @FlaggedApi("com.android.appsearch.flags.enable_abstract_syntax_trees") public final class SemanticSearchNode implements android.app.appsearch.ast.FunctionNode {
    ctor public SemanticSearchNode(int, float, float, int);
    ctor public SemanticSearchNode(int, float, float);
    ctor public SemanticSearchNode(int, float);
    ctor public SemanticSearchNode(int);
    method public int getDistanceMetric();
    method @NonNull public String getFunctionName();
    method public float getLowerBound();
    method public float getUpperBound();
    method public int getVectorIndex();
    method public void setBounds(float, float);
    method public void setDistanceMetric(int);
    method public void setVectorIndex(int);
  }

}

package android.app.appsearch.exceptions {

  public class AppSearchException extends java.lang.Exception {
    ctor public AppSearchException(int);
    ctor public AppSearchException(int, @Nullable String);
    ctor public AppSearchException(int, @Nullable String, @Nullable Throwable);
    method public int getResultCode();
    method @NonNull public <T> android.app.appsearch.AppSearchResult<T> toAppSearchResult();
  }

}

package android.app.appsearch.functions {

  @FlaggedApi("com.android.appsearch.flags.enable_app_functions") public final class AppFunctionManager {
    method public void executeAppFunction(@NonNull android.app.appsearch.functions.ExecuteAppFunctionRequest, @NonNull java.util.concurrent.Executor, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<android.app.appsearch.functions.ExecuteAppFunctionResponse>>);
    field public static final String PERMISSION_BIND_APP_FUNCTION_SERVICE = "android.permission.BIND_APP_FUNCTION_SERVICE";
  }

  @FlaggedApi("com.android.appsearch.flags.enable_app_functions") public abstract class AppFunctionService extends android.app.Service {
    ctor public AppFunctionService();
    method @NonNull public final android.os.IBinder onBind(@Nullable android.content.Intent);
    method @MainThread public abstract void onExecuteFunction(@NonNull android.app.appsearch.functions.ExecuteAppFunctionRequest, @NonNull java.util.function.Consumer<android.app.appsearch.AppSearchResult<android.app.appsearch.functions.ExecuteAppFunctionResponse>>);
    field @NonNull public static final String SERVICE_INTERFACE = "android.app.appsearch.functions.AppFunctionService";
  }

  @FlaggedApi("com.android.appsearch.flags.enable_app_functions") public final class ExecuteAppFunctionRequest implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public android.os.Bundle getExtras();
    method @NonNull public String getFunctionIdentifier();
    method @NonNull public android.app.appsearch.GenericDocument getParameters();
    method @Nullable public byte[] getSha256Certificate();
    method @NonNull public String getTargetPackageName();
    method public void writeToParcel(@NonNull android.os.Parcel, int);
    field @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.functions.ExecuteAppFunctionRequest> CREATOR;
  }

  @FlaggedApi("com.android.appsearch.flags.enable_app_functions") public static final class ExecuteAppFunctionRequest.Builder {
    ctor public ExecuteAppFunctionRequest.Builder(@NonNull String, @NonNull String);
    method @NonNull public android.app.appsearch.functions.ExecuteAppFunctionRequest build();
    method @NonNull public android.app.appsearch.functions.ExecuteAppFunctionRequest.Builder setExtras(@NonNull android.os.Bundle);
    method @NonNull public android.app.appsearch.functions.ExecuteAppFunctionRequest.Builder setParameters(@NonNull android.app.appsearch.GenericDocument);
    method @NonNull public android.app.appsearch.functions.ExecuteAppFunctionRequest.Builder setSha256Certificate(@Nullable byte[]);
  }

  @FlaggedApi("com.android.appsearch.flags.enable_app_functions") public final class ExecuteAppFunctionResponse implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public android.os.Bundle getExtras();
    method @NonNull public android.app.appsearch.GenericDocument getResult();
    method public void writeToParcel(@NonNull android.os.Parcel, int);
    field @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.functions.ExecuteAppFunctionResponse> CREATOR;
    field public static final String PROPERTY_RESULT = "result";
  }

  @FlaggedApi("com.android.appsearch.flags.enable_app_functions") public static final class ExecuteAppFunctionResponse.Builder {
    ctor public ExecuteAppFunctionResponse.Builder();
    method @NonNull public android.app.appsearch.functions.ExecuteAppFunctionResponse build();
    method @NonNull public android.app.appsearch.functions.ExecuteAppFunctionResponse.Builder setExtras(@NonNull android.os.Bundle);
    method @NonNull public android.app.appsearch.functions.ExecuteAppFunctionResponse.Builder setResult(@NonNull android.app.appsearch.GenericDocument);
  }

}

package android.app.appsearch.observer {

  public final class DocumentChangeInfo {
    ctor public DocumentChangeInfo(@NonNull String, @NonNull String, @NonNull String, @NonNull String, @NonNull java.util.Set<java.lang.String>);
    method @NonNull public java.util.Set<java.lang.String> getChangedDocumentIds();
    method @NonNull public String getDatabaseName();
    method @NonNull public String getNamespace();
    method @NonNull public String getPackageName();
    method @NonNull public String getSchemaName();
  }

  public interface ObserverCallback {
    method public void onDocumentChanged(@NonNull android.app.appsearch.observer.DocumentChangeInfo);
    method public void onSchemaChanged(@NonNull android.app.appsearch.observer.SchemaChangeInfo);
  }

  public final class ObserverSpec implements android.os.Parcelable {
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public final int describeContents();
    method @NonNull public java.util.Set<java.lang.String> getFilterSchemas();
    method @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") public void writeToParcel(@NonNull android.os.Parcel, int);
    field @FlaggedApi("com.android.appsearch.flags.enable_safe_parcelable_2") @NonNull public static final android.os.Parcelable.Creator<android.app.appsearch.observer.ObserverSpec> CREATOR;
  }

  public static final class ObserverSpec.Builder {
    ctor public ObserverSpec.Builder();
    method @NonNull public android.app.appsearch.observer.ObserverSpec.Builder addFilterSchemas(@NonNull java.lang.String...);
    method @NonNull public android.app.appsearch.observer.ObserverSpec.Builder addFilterSchemas(@NonNull java.util.Collection<java.lang.String>);
    method @NonNull public android.app.appsearch.observer.ObserverSpec build();
  }

  public final class SchemaChangeInfo {
    ctor public SchemaChangeInfo(@NonNull String, @NonNull String, @NonNull java.util.Set<java.lang.String>);
    method @NonNull public java.util.Set<java.lang.String> getChangedSchemaNames();
    method @NonNull public String getDatabaseName();
    method @NonNull public String getPackageName();
  }

}

package android.app.appsearch.util {

  public class DocumentIdUtil {
    method @NonNull public static String createQualifiedId(@NonNull String, @NonNull String, @NonNull android.app.appsearch.GenericDocument);
    method @NonNull public static String createQualifiedId(@NonNull String, @NonNull String, @NonNull String, @NonNull String);
  }

}

